@using SpotifyAPI.Web
@{
	ViewData["Title"] = "Artiste";
}
@model SuperArtists

<section>
    <div>
        <h1 class="big">Artiste @Model.Name</h1>

        <ul class="albums-list">
            @foreach (var album in Model.Albums.Items.OrderByDescending(a => a.ReleaseDate).Where(a => a.AlbumGroup != "appears_on" && a.AlbumGroup != "single").DistinctBy(a => a.Name))
            {
                <li>
                    <p><a href="@Url.RouteUrl("Album", new { idArtist = Model.Id, idAlbum = album.Id })">@album.Name</a> - @album.TotalTracks <i class="fa-solid fa-compact-disc"></i></p>
                    <iframe style="border-radius:12px" src="https://open.spotify.com/embed/album/@album.Id" width="50%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                </li>
            }
        </ul>
    </div>
</section>


@section Styles{
    <link rel="stylesheet" href="~/css/index-letters.css" asp-append-version="true" />
}